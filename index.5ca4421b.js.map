{"mappings":"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","sources":["node_modules/@swc/helpers/lib/_class_extract_field_descriptor.js","node_modules/@swc/helpers/lib/_class_apply_descriptor_get.js","node_modules/@swc/helpers/lib/_check_private_redeclaration.js","node_modules/@swc/helpers/lib/_class_apply_descriptor_set.js","src/index.js","src/main.js/trending.js","src/main.js/get-movies-by-genre.js","src/main.js/paginator.js","node_modules/@swc/helpers/lib/_class_private_field_get.js","node_modules/@swc/helpers/lib/_class_private_field_init.js","node_modules/@swc/helpers/lib/_class_private_field_set.js","src/main.js/templates.js/trending-switcher.js","src/main.js/search.js","src/main.js/loader.js"],"sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.default = _classExtractFieldDescriptor;\nfunction _classExtractFieldDescriptor(receiver, privateMap, action) {\n    if (!privateMap.has(receiver)) {\n        throw new TypeError(\"attempted to \" + action + \" private field on non-instance\");\n    }\n    return privateMap.get(receiver);\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.default = _classApplyDescriptorGet;\nfunction _classApplyDescriptorGet(receiver, descriptor) {\n    if (descriptor.get) {\n        return descriptor.get.call(receiver);\n    }\n    return descriptor.value;\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.default = _checkPrivateRedeclaration;\nfunction _checkPrivateRedeclaration(obj, privateCollection) {\n    if (privateCollection.has(obj)) {\n        throw new TypeError(\"Cannot initialize the same private elements twice on an object\");\n    }\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.default = _classApplyDescriptorSet;\nfunction _classApplyDescriptorSet(receiver, descriptor, value) {\n    if (descriptor.set) {\n        descriptor.set.call(receiver, value);\n    } else {\n        if (!descriptor.writable) {\n            // This should only throw in strict mode, but class bodies are\n            // always strict and private fields can only be used inside\n            // class bodies.\n            throw new TypeError(\"attempted to set read only private field\");\n        }\n        descriptor.value = value;\n    }\n}\n","import './main.js/requests';\nimport './main.js/saveGenres';\nimport './main.js/trending';\nimport './main.js/search';\nimport './main.js/modal';\n/* import './main.js/login'; */\nimport './main.js/user-manager';\nimport './main.js/theme-switcher';\nimport './main.js/local-storage';\nimport './main.js/footer-modal';\nimport './main.js/back-to-top';\n/* import './main.js/library-manager'; */\n\n\n","import { getTrending } from './requests';\nimport { addSearchByGenre } from './get-movies-by-genre';\nimport { createGalleryMarkup } from './templates.js/gallery-markup';\nimport { period, createSwitcherMarkup } from './templates.js/trending-switcher';\nimport { paginator } from './paginator';\n\nconst gallery = document.querySelector('.gallery');\nshowTrending(1, period).then(data => createSwitcherMarkup(showTrending));\naddSearchByGenre();\n\npaginator.callback = showTrending;\n\nasync function showTrending(page = 1, timeWindow = period) {\n  try {\n    const data = await getTrending(page, timeWindow);\n    const markup = await createGalleryMarkup(data.results);\n\n    gallery.innerHTML = markup;\n    paginator.currentPage = data.page;\n    paginator.totalPages = data.total_pages;\n  } catch (error) {\n    console.log(error);\n  }\n}\n\nexport { showTrending, gallery };\n","import { getMovieBYGenre } from './requests';\nimport { showTrending } from './trending';\nimport { createGalleryMarkup } from './templates.js/gallery-markup';\nimport { paginator } from './paginator';\n\nconst gallery = document.querySelector('.gallery');\nlet genreID;\n\naddSearchByGenre();\n\n\nconst searchByGenre = async (page) => {\n  try {\n    const data = await getMovieBYGenre(genreID, page);\n    const markup = createGalleryMarkup(data.results);\n    gallery.innerHTML = markup;\n    gallery.scrollIntoView();\n    paginator.currentPage = data.page;\n    paginator.totalPages = data.total_pages < 500 ? data.total_pages : 500;\n  } catch (error) {\n    console.log(error);\n  }\n}\n\nfunction addSearchByGenre(page = 1) {\n  gallery.addEventListener('click', async e => {\n    e.preventDefault();\n    if (!e.target.className.includes('genre-link')) return;\n    e.stopImmediatePropagation();\n    genreID = e.target.dataset.id;\n    paginator.callback = searchByGenre;\n    searchByGenre(page)\n    \n  });\n}\n\nexport { addSearchByGenre };\n","class Paginator {\n  #totalPages;\n  #currentPage;\n  #callback;\n\n  constructor(cb, container) {\n    this.#callback = cb;\n    this.#currentPage = 1;\n    this.#totalPages = 100;\n    this.container = container;\n    this.container.addEventListener('click', e => {\n      const response = e.target.dataset.button;\n      const isActive = !e.target.classList.contains('unactive');\n      if (response && isActive) {\n        switch (response) {\n          case 'left':\n            this.#callback(this.#currentPage - 1);\n            break;\n          case 'right':\n            this.#callback(this.#currentPage + 1);\n            break;\n          case 'back':\n            this.#callback(this.#currentPage - 3);\n            break;\n          case 'front':\n            this.#callback(this.#currentPage + 3);\n            break;\n          default:\n            this.#callback(Number(response));\n        }\n      }\n    });\n    this.render();\n  }\n  set totalPages(n) {\n    this.#totalPages = n;\n    this.render();\n  }\n\n  set currentPage(n) {\n    this.#currentPage = n;\n    this.render();\n  }\n\n  set callback(n) {\n    this.#callback = n;\n  }\n\n  render() {\n    let paginatorCode = '';\n    if(this.#totalPages <= 9) {\n      const list = [];\n        for (let i = 1; i <= this.#totalPages; i += 1) {\n          const addButton =\n            i === this.#currentPage\n              ? this.active(this.#currentPage)\n              : this.number(i);\n          list.push(addButton);\n        }\n        paginatorCode =  list.join('');\n    } else {\n\n\n      if (this.#currentPage < 6) {\n        //begin of region\n        const list = [];\n        for (let i = 1; i <= 7; i += 1) {\n          const addButton =\n            i === this.#currentPage\n              ? this.active(this.#currentPage)\n              : this.number(i);\n          list.push(addButton);\n        }\n        paginatorCode = `${this.arrow('left', this.#currentPage > 1)} ${list.join(\n          ''\n        )} ${this.dots('front')} ${this.lastnumber(this.#totalPages)} ${this.arrow(\n          'right',\n          true\n        )}`;\n      } else if (this.#currentPage > this.#totalPages - 6) {\n        // end of region\n        const list = [];\n        for (let i = this.#totalPages - 6; i <= this.#totalPages; i += 1) {\n          const addButton =\n            i === this.#currentPage\n              ? this.active(this.#currentPage)\n              : this.number(i);\n          list.push(addButton);\n        }\n        paginatorCode = `${this.arrow('left', true)} ${this.lastnumber(\n          1\n        )} ${this.dots('back')}  ${list.join('')} ${this.arrow(\n          'right',\n          this.#currentPage < this.#totalPages\n        )}`;\n      } else {\n        //middle of region\n        const list = `${this.number(this.#currentPage - 2)} ${this.number(\n          this.#currentPage - 1\n        )} ${this.active(this.#currentPage)} ${this.number(\n          this.#currentPage + 1\n        )} ${this.number(this.#currentPage + 2)}`;\n        paginatorCode = `${this.arrow('left', true)} ${this.lastnumber(\n          1\n        )} ${this.dots('back')} ${list} ${this.dots('front')} ${this.lastnumber(\n          this.#totalPages\n        )} ${this.arrow('right', true)}`;\n      }\n\n\n    }\n\n    \n\n    this.container.innerHTML = paginatorCode;\n  }\n\n  arrow(direction, active) {\n    return `<div class=\"pagination-button arrow-${direction} ${\n      active ? '' : 'unactive'\n    }\" data-button=\"${direction}\"></div>`;\n  }\n  dots(direction) {\n    return `<div class=\"pagination-numbers dots\" data-button=\"${direction}\">...</div>`;\n  }\n  number(n) {\n    return `<div class=\"pagination-numbers\" data-button=\"${n}\">${n}</div>`;\n  }\n\n  lastnumber(n) {\n    return `<div class=\"pagination-numbers last\" data-button=\"${n}\">${n}</div>`;\n  }\n\n  active(n) {\n    return `<div class=\"pagination-button current\" data-button=\"${n}\">${n}</div>`;\n  }\n}\n\nconst paginatorContainer = document.querySelector('.pagination');\nexport const paginator = new Paginator((page) => {\n\n\n}, paginatorContainer);","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.default = _classPrivateFieldGet;\nvar _classExtractFieldDescriptor = _interopRequireDefault(require(\"./_class_extract_field_descriptor\"));\nvar _classApplyDescriptorGet = _interopRequireDefault(require(\"./_class_apply_descriptor_get\"));\nfunction _classPrivateFieldGet(receiver, privateMap) {\n    var descriptor = (0, _classExtractFieldDescriptor).default(receiver, privateMap, \"get\");\n    return (0, _classApplyDescriptorGet).default(receiver, descriptor);\n}\nfunction _interopRequireDefault(obj) {\n    return obj && obj.__esModule ? obj : {\n        default: obj\n    };\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.default = _classPrivateFieldInit;\nvar _checkPrivateRedeclaration = _interopRequireDefault(require(\"./_check_private_redeclaration\"));\nfunction _classPrivateFieldInit(obj, privateMap, value) {\n    (0, _checkPrivateRedeclaration).default(obj, privateMap);\n    privateMap.set(obj, value);\n}\nfunction _interopRequireDefault(obj) {\n    return obj && obj.__esModule ? obj : {\n        default: obj\n    };\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.default = _classPrivateFieldSet;\nvar _classExtractFieldDescriptor = _interopRequireDefault(require(\"./_class_extract_field_descriptor\"));\nvar _classApplyDescriptorSet = _interopRequireDefault(require(\"./_class_apply_descriptor_set\"));\nfunction _classPrivateFieldSet(receiver, privateMap, value) {\n    var descriptor = (0, _classExtractFieldDescriptor).default(receiver, privateMap, \"set\");\n    (0, _classApplyDescriptorSet).default(receiver, descriptor, value);\n    return value;\n}\nfunction _interopRequireDefault(obj) {\n    return obj && obj.__esModule ? obj : {\n        default: obj\n    };\n}\n","import { gallery } from '../trending';\n\nlet period = localStorage.getItem('switcher-period') || 'week';\n\nfunction createSwitcherMarkup(callback) {\n  const markup = `<div class=\"switcher__container\">\n    <span class=\"switcher__text\">Trending of the</span>\n        <div class=\"switcher\">\n          <div class=\"switcher__item\">\n            <input\n              type=\"radio\"\n              id=\"day\"\n              value=\"day\"\n              name=\"switcher\"\n              class=\"switcher__item-radio\"\n            />\n            <label for=\"day\" class=\"switcher__item-label\">\n              Day\n            </label>\n          </div>\n          <div class=\"switcher__item\">\n            <input\n              type=\"radio\"\n              id=\"week\"\n              value=\"week\"\n              name=\"switcher\"\n              class=\"switcher__item-radio\"\n            />\n            <label for=\"week\" class=\"switcher__item-label\">\n              Week\n            </label>\n          </div>\n        </div>\n    </div>`;\n\n  gallery.insertAdjacentHTML('beforebegin', markup);\n  const switcher = document.querySelector('.switcher');\n  const options = switcher.querySelectorAll('.switcher__item-radio');\n\n  switcher.addEventListener('click', addSwitcher);\n  [...options].find(option => option.value === period).checked = true;\n\n  function addSwitcher(e) {\n    const optionToSelect = [...options].find(option => !option.checked);\n    optionToSelect.checked = true;\n\n    period = optionToSelect.value;\n\n    localStorage.setItem('switcher-period', period);\n\n    callback(1, period);\n  }\n}\n\nexport { period, createSwitcherMarkup };\n","import { getMovie } from './get-movie';\nimport { getMoviesByKeyword } from './requests';\nimport { createGalleryMarkup } from './templates.js/gallery-markup';\nimport { paginator } from './paginator';\nimport { LoadSpinner } from './loader';\n\nconst loadSpinnerBtn = new LoadSpinner({ selector: '[data-action=\"loading\"]' });\nconst headerForm = document.querySelector('.search-form');\nconst searchResult = document.querySelector('.search-result');\nconst gallery = document.querySelector('.gallery');\nconst WARNING_CLEAR_DELAY = 3000;\nlet lastQuery = '';\nconst searchMore = n => {\n  getMovies(lastQuery, n);\n};\nconst getMovies = async (query, page) => {\n  loadSpinnerBtn.enable();\n  let searched = await getMoviesByKeyword({\n    keyword: query,\n    page,\n  });\n  if (searched?.results?.length) {\n    const markup = createGalleryMarkup(searched.results);\n    searchResult.textContent = '';\n    gallery.innerHTML = markup;\n    gallery.scrollIntoView();\n    lastQuery = query;\n    paginator.callback = searchMore;\n    paginator.currentPage = searched.page;\n    paginator.totalPages = searched.total_pages;\n  } else {\n    searchResult.textContent =\n      'Search result not successful. Enter the correct movie name and try again.';\n    clearInfo();\n  }\n  loadSpinnerBtn.disable();\n  \n};\n\n/* async function searchMovies(event) {\n  event.preventDefault();\n  try {\n    const value = event.target['search-film'].value;\n    let serched = {};\n    if (value) {\n      getMovies(value, 1);\n      serched = await getMoviesByKeyword({\n        keyword: value,\n        page: 1,\n      });\n    } else {\n      searchResult.textContent = 'Movie name must not be empty. Please, enter movie name to search.';\n      clearInfo();\n    }\n    if (serched?.results?.length) {\n      console.log(serched);\n      const markup = createGalleryMarkup(serched.results);\n      searchResult.innerHTML = '';\n      gallery.innerHTML = markup;\n    } else if (value) {\n      searchResult.innerHTML =\n        'Search result not successful. Enter the correct movie name and try again.';\n      clearInfo();\n    }\n  } catch (error) {\n    console.log(error);\n  }\n} */\n\nconst onSearch = event => {\n  event.preventDefault();\n  \n  const value = event.target['search-film'].value.trim();\n  if (value) {\n    getMovies(value, 1);\n  } else {\n    searchResult.textContent =\n      'Movie name must not be empty. Please, enter movie name to search.';\n    clearInfo();\n    //loadSpinnerBtn.enable();\n  }\n};\n\nheaderForm.addEventListener('submit', onSearch);\n\nconst clearInfo = () => {\n  setTimeout(() => {\n    searchResult.textContent = '';\n  }, WARNING_CLEAR_DELAY);\n};\n","class LoadSpinner {\n  constructor({ selector }) {\n    this.refs = this.getRefs(selector);\n  }\n\n  getRefs(selector) {\n    const refs = {};\n    refs.button = document.querySelector(selector);\n    refs.icon = refs.button.querySelector('.search-form__icon');\n    // refs.label = refs.button.querySelector('.label');\n    refs.spinner = refs.button.querySelector('.spinner');\n\n    return refs;\n  }\n\n  disable() {\n    this.refs.button.disabled = false;\n    // this.refs.label.textContent = 'Loading...';\n    this.refs.spinner.classList.add('is-hidden');\n    this.refs.icon.classList.remove('is-hidden');\n  }\n\n  enable() {\n    this.refs.button.disabled = true;\n    // this.refs.label.textContent = 'Loading...';\n    this.refs.spinner.classList.remove('is-hidden');\n    this.refs.icon.classList.add('is-hidden');\n  }\n}\n\nexport { LoadSpinner };\n"],"names":["Object","defineProperty","module","exports","value","default","receiver","privateMap","action","has","TypeError","get","descriptor","call","obj","privateCollection","set","writable","parcelRequire","$bpxeT","$8MBJY","$37616d1d2d9e1de3$exports","$37616d1d2d9e1de3$var$_classExtractFieldDescriptor","$37616d1d2d9e1de3$var$_classApplyDescriptorGet","$37616d1d2d9e1de3$var$_interopRequireDefault","__esModule","$665bb80dc57e205a$exports","$665bb80dc57e205a$var$_checkPrivateRedeclaration","$a11a0d8e92c06afc$exports","$a11a0d8e92c06afc$var$_classExtractFieldDescriptor","$a11a0d8e92c06afc$var$_classApplyDescriptorSet","$a11a0d8e92c06afc$var$_interopRequireDefault","$c87cd0c2a48add4a$var$genreID","$34a43837a2fde047$var$_totalPages","WeakMap","$34a43837a2fde047$var$_currentPage","$34a43837a2fde047$var$_callback","$34a43837a2fde047$export$4f0e21758287c8b1","Paginator","cb","container","$parcel$interopDefault","this","addEventListener","e","response","target","dataset","button","isActive","classList","contains","_this","Number","render","key","n","paginatorCode","list","i","addButton","active","number","push","join","list1","i1","addButton1","concat","arrow","dots","lastnumber","list2","i2","addButton2","list3","innerHTML","direction","page","document","querySelector","$c87cd0c2a48add4a$var$gallery","$c87cd0c2a48add4a$export$7d04e14c37dd5da9","$c87cd0c2a48add4a$var$searchByGenre","$2TvXO","mark","_callee","data","markup","$hOsrK","getMovieBYGenre","_ctx","sent","$9xIcH","createGalleryMarkup","results","scrollIntoView","currentPage","totalPages","total_pages","console","log","t0","arguments","length","preventDefault","className","includes","stopImmediatePropagation","id","callback","$8nrFW","$0752efe90e900891$export$da0c8716dc13cd97","localStorage","getItem","$0752efe90e900891$export$854668381982e3df","$df01db9501f35ba8$export$b21c1b4271bdbe93","insertAdjacentHTML","switcher","options","querySelectorAll","optionToSelect","find","option","checked","setItem","$df01db9501f35ba8$export$a02e51d251069742","$df01db9501f35ba8$var$_showTrending","apply","timeWindow","_args","getTrending","then","$e7e76bc70a64536c$var$loadSpinnerBtn","LoadSpinner","param","selector","refs","getRefs","icon","spinner","disabled","add","remove","$e7e76bc70a64536c$var$headerForm","$e7e76bc70a64536c$var$searchResult","$e7e76bc70a64536c$var$gallery","$e7e76bc70a64536c$var$lastQuery","$e7e76bc70a64536c$var$searchMore","$e7e76bc70a64536c$var$getMovies","query","ref","searched","enable","getMoviesByKeyword","keyword","textContent","$e7e76bc70a64536c$var$clearInfo","disable","event","trim","setTimeout"],"version":3,"file":"index.5ca4421b.js.map"}