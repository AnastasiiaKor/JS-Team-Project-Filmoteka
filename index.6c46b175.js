var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},t={},n={},a=e.parcelRequired7c6;null==a&&((a=function(e){if(e in t)return t[e].exports;if(e in n){var a=n[e];delete n[e];var i={id:e,exports:{}};return t[e]=i,a.call(i.exports,i,i.exports),i.exports}var r=new Error("Cannot find module '"+e+"'");throw r.code="MODULE_NOT_FOUND",r}).register=function(e,t){n[e]=t},e.parcelRequired7c6=a),a("ksLB7"),a("iqbjS"),a("24Yli");var i=a("iqbjS");let r=localStorage.getItem("switcher-period")||"week";function l(e,t){t.insertAdjacentHTML("beforeend",'<div class="switcher__container">\n    <span class="switcher__text">Trending of the</span>\n        <div class="switcher">\n          <div class="switcher__item">\n            <input\n              type="radio"\n              id="day"\n              value="day"\n              name="switcher"\n              class="switcher__item-radio"\n            />\n            <label for="day" class="switcher__item-label">\n              Day\n            </label>\n          </div>\n          <div class="switcher__item">\n            <input\n              type="radio"\n              id="week"\n              value="week"\n              name="switcher"\n              class="switcher__item-radio"\n            />\n            <label for="week" class="switcher__item-label">\n              Week\n            </label>\n          </div>\n        </div>\n    </div>');const n=document.querySelector(".switcher"),a=n.querySelectorAll(".switcher__item-radio");n.addEventListener("click",(function(t){const n=[...a].find((e=>!e.checked));n.checked=!0,r=n.value,localStorage.setItem("switcher-period",r),e(1,r)})),[...a].find((e=>e.value===r)).checked=!0}var s=a("bN4hg"),o=a("i9P75"),c=a("alJz6");i=a("iqbjS"),o=a("i9P75"),c=a("alJz6"),s=a("bN4hg");async function d(e,t=1){try{const n=await(0,i.getMovieBYGenre)(e,t);(0,o.makeGallery)(n.results),c.gallery.scrollIntoView(),s.paginator.currentPage=n.page,s.paginator.totalPages=n.total_pages<500?n.total_pages:500}catch(e){console.log(e)}}c.gallery.addEventListener("click",(e=>{e.preventDefault(),e.target.className.includes("genre-link")&&(e.stopImmediatePropagation(),d(e.target.dataset.id))}));c=a("alJz6");let g,u,p=document.querySelector(".filter__list");function _(e){e.target.classList.toggle("active"),p.classList.toggle("is-hidden"),c.gallery.scrollIntoView();const t=JSON.parse(localStorage.getItem("genres")).map((({id:e,name:t})=>`<li class="filter__item"><button class="filter__option" type="button" data-id="${e}">${t}</button></li>`)).join("");p.innerHTML=t,p.addEventListener("click",f)}function f(e){if("BUTTON"===e.target.nodeName)try{!function(e){const t=document.querySelector(".filter__option.active");t&&t.classList.remove("active"),e.target.classList.add("active")}(e),u=e.target.dataset.id,d(u),d(u),c.gallery.scrollIntoView()}catch(e){}}function m(){c.gallery.insertAdjacentHTML("afterbegin",'\n      <div class="gallery__settings">\n        <div class="gallery__settings-container">\n          <button class="filter__button" type="button">Select genre</button>\n        </div>\n        <ul class="filter__list is-hidden"></ul>\n      </div>');l(y,document.querySelector(".gallery__settings-container")),p=document.querySelector(".filter__list"),g=document.querySelector(".filter__button"),g.addEventListener("click",_)}async function y(e=1,t=r){try{const n=await(0,i.getTrending)(e,t);(0,o.makeGallery)(n.results),m(),s.paginator.currentPage=n.page,s.paginator.totalPages=n.total_pages}catch(e){console.log(e)}}y(1,r),s.paginator.callback=y;i=a("iqbjS"),s=a("bN4hg");var v=a("kUoQ5");o=a("i9P75");const h=new(0,v.LoadSpinner)({selector:'[data-action="loading"]'}),w=document.querySelector(".search-form"),b=document.querySelector(".search-result");let k="";const S=e=>{q(k,e)},q=async(e,t)=>{h.enable();let n=await(0,i.getMoviesByKeyword)({keyword:e,page:t});n?.results?.length?((0,o.makeGallery)(n.results),b.textContent="",k=e,s.paginator.callback=S,s.paginator.currentPage=n.page,s.paginator.totalPages=n.total_pages):(b.textContent="Search result not successful. Enter the correct movie name and try again.",L()),h.disable()};w.addEventListener("submit",(e=>{e.preventDefault();const t=e.target["search-film"].value.trim();t?q(t,1):(b.textContent="Movie name must not be empty. Please, enter movie name to search.",L())}));const L=()=>{setTimeout((()=>{b.textContent=""}),3e3)};a("jpPIC"),a("jhK3h"),a("hRans"),a("fo3FY"),a("6rGxr"),a("860Hs");
//# sourceMappingURL=index.6c46b175.js.map
