!function(){function e(e){return e&&e.__esModule?e.default:e}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},n={},r={},a=t.parcelRequired7c6;null==a&&((a=function(e){if(e in n)return n[e].exports;if(e in r){var t=r[e];delete r[e];var a={id:e,exports:{}};return n[e]=a,t.call(a.exports,a,a.exports),a.exports}var i=new Error("Cannot find module '"+e+"'");throw i.code="MODULE_NOT_FOUND",i}).register=function(e,t){r[e]=t},t.parcelRequired7c6=a),a("9LQ4c"),a("hOsrK"),a("lAw04");var i=a("bpxeT"),o=a("2TvXO"),c=a("hOsrK"),l=a("8nrFW"),s=document.querySelector(".gallery"),u=localStorage.getItem("switcher-period")||"week";function d(t){s.insertAdjacentHTML("afterbegin",'<div class="switcher__container">\n    <span class="switcher__text">Trending of the</span>\n        <div class="switcher">\n          <div class="switcher__item">\n            <input\n              type="radio"\n              id="day"\n              value="day"\n              name="switcher"\n              class="switcher__item-radio"\n            />\n            <label for="day" class="switcher__item-label">\n              Day\n            </label>\n          </div>\n          <div class="switcher__item">\n            <input\n              type="radio"\n              id="week"\n              value="week"\n              name="switcher"\n              class="switcher__item-radio"\n            />\n            <label for="week" class="switcher__item-label">\n              Week\n            </label>\n          </div>\n        </div>\n    </div>');var n=document.querySelector(".switcher"),r=n.querySelectorAll(".switcher__item-radio");n.addEventListener("click",(function(n){var a=e(l)(r).find((function(e){return!e.checked}));a.checked=!0,u=a.value,localStorage.setItem("switcher-period",u),t(1,u)})),e(l)(r).find((function(e){return e.value===u})).checked=!0}var p=a("4wcYQ"),f=a("fiCwh");function v(){return h.apply(this,arguments)}function h(){return h=e(i)(e(o).mark((function t(){var n,r,a,i=arguments;return e(o).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=i.length>0&&void 0!==i[0]?i[0]:1,r=i.length>1&&void 0!==i[1]?i[1]:u,e.prev=1,e.next=4,(0,c.getTrending)(n,r);case 4:a=e.sent,(0,f.makeGallery)(a.results),p.paginator.currentPage=a.page,p.paginator.totalPages=a.total_pages,d(v),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),console.log(e.t0);case 14:case"end":return e.stop()}}),t,null,[[1,11]])}))),h.apply(this,arguments)}v(1,u),p.paginator.callback=v;i=a("bpxeT"),o=a("2TvXO"),c=a("hOsrK"),p=a("4wcYQ");var w,g=a("kI89v"),m=(f=a("fiCwh"),new(0,g.LoadSpinner)({selector:'[data-action="loading"]'})),y=document.querySelector(".search-form"),_=document.querySelector(".search-result"),b="",k=function(e){x(b,e)},x=(w=e(i)(e(o).mark((function t(n,r){var a,i;return e(o).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return m.enable(),e.next=4,(0,c.getMoviesByKeyword)({keyword:n,page:r});case 4:(null==(i=e.sent)||null===(a=i.results)||void 0===a?void 0:a.length)?((0,f.makeGallery)(i.results),_.textContent="",b=n,p.paginator.callback=k,p.paginator.currentPage=i.page,p.paginator.totalPages=i.total_pages):(_.textContent="Search result not successful. Enter the correct movie name and try again.",T()),m.disable();case 7:case"end":return e.stop()}}),t)}))),function(e,t){return w.apply(this,arguments)});y.addEventListener("submit",(function(e){e.preventDefault();var t=e.target["search-film"].value.trim();t?x(t,1):(_.textContent="Movie name must not be empty. Please, enter movie name to search.",T())}));var T=function(){setTimeout((function(){_.textContent=""}),3e3)};a("7uZ1r"),a("hdbOA"),a("jUlpL"),a("k6LBo"),a("elFEq"),a("dt3WK"),a("j61u5")}();
//# sourceMappingURL=index.8760eefe.js.map
