var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},t={},a={},n=e.parcelRequired7c6;null==n&&((n=function(e){if(e in t)return t[e].exports;if(e in a){var n=a[e];delete a[e];var r={id:e,exports:{}};return t[e]=r,n.call(r.exports,r,r.exports),r.exports}var s=new Error("Cannot find module '"+e+"'");throw s.code="MODULE_NOT_FOUND",s}).register=function(e,t){a[e]=t},e.parcelRequired7c6=n),n("iqbjS"),n("lHlfB");var r=n("iqbjS"),s=(r=n("iqbjS"),n("alJz6")),i=n("bN4hg");let l;c();const o=async e=>{try{const t=await(0,r.getMovieBYGenre)(l,e),a=(0,s.createGalleryMarkup)(t.results);s.gallery.innerHTML=a,s.gallery.scrollIntoView(),i.paginator.currentPage=t.page,i.paginator.totalPages=t.total_pages<500?t.total_pages:500}catch(e){console.log(e)}};function c(e=1){s.gallery.addEventListener("click",(async t=>{t.preventDefault(),t.target.className.includes("genre-link")&&(t.stopImmediatePropagation(),l=t.target.dataset.id,i.paginator.callback=o,o(e))}))}s=n("alJz6"),s=n("alJz6");let d=localStorage.getItem("switcher-period")||"week";function u(e){s.gallery.insertAdjacentHTML("afterbegin",'<div class="switcher__container">\n    <span class="switcher__text">Trending of the</span>\n        <div class="switcher">\n          <div class="switcher__item">\n            <input\n              type="radio"\n              id="day"\n              value="day"\n              name="switcher"\n              class="switcher__item-radio"\n            />\n            <label for="day" class="switcher__item-label">\n              Day\n            </label>\n          </div>\n          <div class="switcher__item">\n            <input\n              type="radio"\n              id="week"\n              value="week"\n              name="switcher"\n              class="switcher__item-radio"\n            />\n            <label for="week" class="switcher__item-label">\n              Week\n            </label>\n          </div>\n        </div>\n    </div>');const t=document.querySelector(".switcher"),a=t.querySelectorAll(".switcher__item-radio");t.addEventListener("click",(function(t){const n=[...a].find((e=>!e.checked));n.checked=!0,d=n.value,localStorage.setItem("switcher-period",d),e(1,d)})),[...a].find((e=>e.value===d)).checked=!0}i=n("bN4hg");async function g(e=1,t=d){try{const a=await(0,r.getTrending)(e,t),n=await(0,s.createGalleryMarkup)(a.results);s.gallery.innerHTML=n,i.paginator.currentPage=a.page,i.paginator.totalPages=a.total_pages,u(g),c()}catch(e){console.log(e)}}g(1,d),i.paginator.callback=g,n("g4eqB");r=n("iqbjS"),s=n("alJz6"),i=n("bN4hg");const h=new class{getRefs(e){const t={};return t.button=document.querySelector(e),t.icon=t.button.querySelector(".search-form__icon"),t.spinner=t.button.querySelector(".spinner"),t}disable(){this.refs.button.disabled=!1,this.refs.spinner.classList.add("is-hidden"),this.refs.icon.classList.remove("is-hidden")}enable(){this.refs.button.disabled=!0,this.refs.spinner.classList.remove("is-hidden"),this.refs.icon.classList.add("is-hidden")}constructor({selector:e}){this.refs=this.getRefs(e)}}({selector:'[data-action="loading"]'}),p=document.querySelector(".search-form"),f=document.querySelector(".search-result");let y="";const m=e=>{b(y,e)},b=async(e,t)=>{h.enable();let a=await(0,r.getMoviesByKeyword)({keyword:e,page:t});if(a?.results?.length){const t=(0,s.createGalleryMarkup)(a.results);f.textContent="",s.gallery.innerHTML=t,s.gallery.scrollIntoView(),y=e,i.paginator.callback=m,i.paginator.currentPage=a.page,i.paginator.totalPages=a.total_pages}else f.textContent="Search result not successful. Enter the correct movie name and try again.",w();h.disable()};p.addEventListener("submit",(e=>{e.preventDefault();const t=e.target["search-film"].value.trim();t?b(t,1):(f.textContent="Movie name must not be empty. Please, enter movie name to search.",w())}));const w=()=>{setTimeout((()=>{f.textContent=""}),3e3)};n("jpPIC"),n("jhK3h"),n("hRans"),n("8Bm5W"),n("6rGxr"),n("860Hs");
//# sourceMappingURL=index.a5d32d81.js.map
