{"mappings":"oeAAAA,EAAA,S,WCAA,MAAMC,EAAUC,SAASC,eAAe,aAClCC,EAAOC,aAAaC,QAAQ,YAE9BL,GAAWG,IACbH,EAAQM,UAAY,WAAWH,KAC/BC,aAAaG,WAAW,aCL1B,IAAAC,EAAAT,EAAA,S,aAGA,MAAMU,EAAaR,SAASS,cAAc,0BACpCC,EAAmBV,SAASS,cAAc,YAC1CE,EAAiBX,SAASS,cAAc,UAC7BN,aAAaC,QAAQ,QACtC,IAAIQ,EAAe,IAAIC,MAAM,SA4B7B,SAASC,EAAaC,GACpBC,EAAAC,UAAUC,YAAc,EACxB,IAAIC,EAAYhB,aAAaC,QAAQW,GAErC,GAAII,GAAaC,KAAKC,MAAMF,GAAWG,OAAQ,CAC7C,IAAIH,EAAYhB,aAAaC,QAAQW,GACjCQ,EAAaH,KAAKC,MAAMF,IAC5B,EAAAZ,EAAAiB,aAAYD,GACZf,EAAWiB,MAAMC,QAAU,M,MAE3B,EAAAnB,EAAAoB,gBACAnB,EAAWiB,MAAMC,QAAU,OAEI,CAUnC,SAASE,EAAeC,GACtB,OAAQA,GACN,IAAK,UACHlB,EAAemB,UAAUC,OAAO,mBAChCpB,EAAeqB,gBAAgB,YAC/BtB,EAAiBoB,UAAUG,IAAI,mBAC/BvB,EAAiBwB,aAAa,YAAY,GAC1C,MACF,IAAK,QACHxB,EAAiBoB,UAAUC,OAAO,mBAClCrB,EAAiBsB,gBAAgB,YACjCrB,EAAemB,UAAUG,IAAI,mBAC7BtB,EAAeuB,aAAa,YAAY,GACxC,MACF,QACExB,EAAiBoB,UAAUC,OAAO,mBAClCrB,EAAiBsB,gBAAgB,YACjCrB,EAAemB,UAAUC,OAAO,mBAChCpB,EAAeqB,gBAAgB,Y,CAnErCtB,EAAiByB,iBAAiB,SAGlC,SAAwBpB,GACtBJ,EAAemB,UAAUC,OAAO,mBAChCpB,EAAeqB,gBAAgB,YAC/BtB,EAAiBoB,UAAUG,IAAI,mBAC/BvB,EAAiBwB,aAAa,YAAY,GAC1C/B,aAAaG,WAAW,cACxBH,aAAaiC,QAAQ,aAAc,WAEnCR,EAAeb,EAAEsB,OAAOC,IACxBxB,EAAaC,EAAEsB,OAAOC,G,IAXxB3B,EAAewB,iBAAiB,SAchC,SAAsBpB,GACpBL,EAAiBoB,UAAUC,OAAO,mBAClCrB,EAAiBsB,gBAAgB,YACjCrB,EAAemB,UAAUG,IAAI,mBAC7BtB,EAAeuB,aAAa,YAAY,GACxC/B,aAAaG,WAAW,cACxBH,aAAaiC,QAAQ,aAAc,SACnCR,EAAeb,EAAEsB,OAAOC,IACxBxB,EAAaC,EAAEsB,OAAOC,G,IAmBxBxB,EAAa,SACbd,SAASmC,iBAAiB,iBAAiBpB,IACzC,MAAMc,EAAUd,EAAEwB,OAAOV,QACzBD,EAAeC,GACff,EAAae,EAAQ,IA8BvB,WACE,GAA2C,YAAvC1B,aAAaC,QAAQ,cAEvB,YADAM,EAAiB8B,cAAc5B,GAE1B,GAA2C,UAAvCT,aAAaC,QAAQ,cAC9BO,EAAe6B,cAAc5B,E,CANjC6B,G","sources":["src/library.js","src/main.js/greetings.js","src/main.js/library-btn-logic.js"],"sourcesContent":["import './main.js/preloader';\nimport './main.js/theme-switcher';\n// import './main.js/get-movies-by-genre';\nimport './main.js/greetings';\nimport './main.js/library-btn-logic';\nimport './main.js/save-genres';\nimport './main.js/modal';\nimport './main.js/footer-modal';\nimport './main.js/back-to-top';\n","const welcome = document.getElementById('greatings');\nconst user = localStorage.getItem('username');\n  \nif (welcome && user) {\n  welcome.innerHTML = `Welcome ${user}!`;\n  localStorage.removeItem('username');\n}","import { makeGallery, clearGallery } from './make-gallery';\nimport { paginator } from './paginator';\n\nconst divClassEl = document.querySelector('.empty_library_bcg_img');\nconst librWatchedBtnEl = document.querySelector('#watched');\nconst librQueueBtnEl = document.querySelector('#queue');\nconst userName = localStorage.getItem('user');\nlet defaultEvent = new Event('click');\n\nlibrWatchedBtnEl.addEventListener('click', onWatchedClick);\nlibrQueueBtnEl.addEventListener('click', onQueueClick);\n\nfunction onWatchedClick(e) {\n  librQueueBtnEl.classList.remove('btn-add__active');\n  librQueueBtnEl.removeAttribute('disabled');\n  librWatchedBtnEl.classList.add('btn-add__active');\n  librWatchedBtnEl.setAttribute('disabled', true);\n  localStorage.removeItem('saved_page');\n  localStorage.setItem('saved_page', 'watched');\n\n  changeBtnState(e.target.id);\n  renderMovies(e.target.id);\n}\n\nfunction onQueueClick(e) {\n  librWatchedBtnEl.classList.remove('btn-add__active');\n  librWatchedBtnEl.removeAttribute('disabled');\n  librQueueBtnEl.classList.add('btn-add__active');\n  librQueueBtnEl.setAttribute('disabled', true);\n  localStorage.removeItem('saved_page');\n  localStorage.setItem('saved_page', 'queue');\n  changeBtnState(e.target.id);\n  renderMovies(e.target.id);\n}\n\nfunction renderMovies(e) {\n  paginator.currentPage = 0;\n  let savedData = localStorage.getItem(e);\n\n  if (savedData && JSON.parse(savedData).length) {\n    let savedData = localStorage.getItem(e);\n    let parsedData = JSON.parse(savedData);\n    makeGallery(parsedData);\n    divClassEl.style.display = 'none';\n  } else {\n    clearGallery();\n    divClassEl.style.display = 'block';\n  }\n  /*   galleryEl.innerHTML = ''; */\n}\n\nrenderMovies('queue');\ndocument.addEventListener('libraryChange', e => {\n  const section = e.detail.section;\n  changeBtnState(section);\n  renderMovies(section);\n});\n\nfunction changeBtnState(section) {\n  switch (section) {\n    case 'watched':\n      librQueueBtnEl.classList.remove('btn-add__active');\n      librQueueBtnEl.removeAttribute('disabled');\n      librWatchedBtnEl.classList.add('btn-add__active');\n      librWatchedBtnEl.setAttribute('disabled', true);\n      break;\n    case 'queue':\n      librWatchedBtnEl.classList.remove('btn-add__active');\n      librWatchedBtnEl.removeAttribute('disabled');\n      librQueueBtnEl.classList.add('btn-add__active');\n      librQueueBtnEl.setAttribute('disabled', true);\n      break;\n    default:\n      librWatchedBtnEl.classList.remove('btn-add__active');\n      librWatchedBtnEl.removeAttribute('disabled');\n      librQueueBtnEl.classList.remove('btn-add__active');\n      librQueueBtnEl.removeAttribute('disabled');\n  }\n}\n\n// подключить билдГаллери\n// подключить создатель разметки ок\n//добавить их в ф-цию onClick\n\ncheckSaveBtn();\nfunction checkSaveBtn() {\n  if (localStorage.getItem('saved_page') === 'watched') {\n    librWatchedBtnEl.dispatchEvent(defaultEvent);\n    return;\n  } else if (localStorage.getItem('saved_page') === 'queue') {\n    librQueueBtnEl.dispatchEvent(defaultEvent);\n    return;\n  }\n}\n"],"names":["parcelRequire","$51d74a0baff2d3b2$var$welcome","document","getElementById","$51d74a0baff2d3b2$var$user","localStorage","getItem","innerHTML","removeItem","$i9P75","$7b12f9f490a2a020$var$divClassEl","querySelector","$7b12f9f490a2a020$var$librWatchedBtnEl","$7b12f9f490a2a020$var$librQueueBtnEl","$7b12f9f490a2a020$var$defaultEvent","Event","$7b12f9f490a2a020$var$renderMovies","e","$bN4hg","paginator","currentPage","savedData","JSON","parse","length","parsedData","makeGallery","style","display","clearGallery","$7b12f9f490a2a020$var$changeBtnState","section","classList","remove","removeAttribute","add","setAttribute","addEventListener","setItem","target","id","detail","dispatchEvent","$7b12f9f490a2a020$var$checkSaveBtn"],"version":3,"file":"library.32880c1c.js.map"}