function e(e){return e&&e.__esModule?e.default:e}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},s={},r={},i=t.parcelRequired7c6;null==i&&((i=function(e){if(e in s)return s[e].exports;if(e in r){var t=r[e];delete r[e];var i={id:e,exports:{}};return s[e]=i,t.call(i.exports,i,i.exports),i.exports}var n=new Error("Cannot find module '"+e+"'");throw n.code="MODULE_NOT_FOUND",n}).register=function(e,t){r[e]=t},t.parcelRequired7c6=i),i.register("fExtF",(function(e,t){Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=function(e,t,s){if(!t.has(e))throw new TypeError("attempted to "+s+" private field on non-instance");return t.get(e)}})),i.register("iaRLo",(function(e,t){Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=function(e,t){return t.get?t.get.call(e):t.value}})),i.register("7K24o",(function(e,t){Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=function(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}})),i.register("3LGG3",(function(e,t){Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=function(e,t,s){if(t.set)t.set.call(e,s);else{if(!t.writable)throw new TypeError("attempted to set read only private field");t.value=s}}})),i("iqbjS"),i("lHlfB");var n=i("iqbjS"),a=(n=i("iqbjS"),i("alJz6")),o={};Object.defineProperty(o,"__esModule",{value:!0}),o.default=function(e,t){var s=l.default(e,t,"get");return c.default(e,s)};var l=u(i("fExtF")),c=u(i("iaRLo"));function u(e){return e&&e.__esModule?e:{default:e}}var d={};Object.defineProperty(d,"__esModule",{value:!0}),d.default=function(e,t,s){f.default(e,t),t.set(e,s)};var h,f=(h=i("7K24o"))&&h.__esModule?h:{default:h};var b={};Object.defineProperty(b,"__esModule",{value:!0}),b.default=function(e,t,s){var r=p.default(e,t,"set");return g.default(e,r,s),s};var p=v(i("fExtF")),g=v(i("3LGG3"));function v(e){return e&&e.__esModule?e:{default:e}}var m=new WeakMap,y=new WeakMap,w=new WeakMap;const $=document.querySelector(".pagination"),_=new class{set totalPages(t){e(b)(this,m,t),this.render()}set currentPage(t){e(b)(this,y,t),this.render()}set callback(t){e(b)(this,w,t)}render(){let t="";if(e(o)(this,m)<=9){const s=[];for(let t=1;t<=e(o)(this,m);t+=1){const r=t===e(o)(this,y)?this.active(e(o)(this,y)):this.number(t);s.push(r)}t=s.join("")}else if(e(o)(this,y)<6){const s=[];for(let t=1;t<=7;t+=1){const r=t===e(o)(this,y)?this.active(e(o)(this,y)):this.number(t);s.push(r)}t=`${this.arrow("left",e(o)(this,y)>1)} ${s.join("")} ${this.dots("front")} ${this.lastnumber(e(o)(this,m))} ${this.arrow("right",!0)}`}else if(e(o)(this,y)>e(o)(this,m)-6){const s=[];for(let t=e(o)(this,m)-6;t<=e(o)(this,m);t+=1){const r=t===e(o)(this,y)?this.active(e(o)(this,y)):this.number(t);s.push(r)}t=`${this.arrow("left",!0)} ${this.lastnumber(1)} ${this.dots("back")}  ${s.join("")} ${this.arrow("right",e(o)(this,y)<e(o)(this,m))}`}else{const s=`${this.number(e(o)(this,y)-2)} ${this.number(e(o)(this,y)-1)} ${this.active(e(o)(this,y))} ${this.number(e(o)(this,y)+1)} ${this.number(e(o)(this,y)+2)}`;t=`${this.arrow("left",!0)} ${this.lastnumber(1)} ${this.dots("back")} ${s} ${this.dots("front")} ${this.lastnumber(e(o)(this,m))} ${this.arrow("right",!0)}`}this.container.innerHTML=t}arrow(e,t){return`<div class="pagination-button arrow-${e} ${t?"":"unactive"}" data-button="${e}"></div>`}dots(e){return`<div class="pagination-numbers dots" data-button="${e}">...</div>`}number(e){return`<div class="pagination-numbers" data-button="${e}">${e}</div>`}lastnumber(e){return`<div class="pagination-numbers last" data-button="${e}">${e}</div>`}active(e){return`<div class="pagination-button current" data-button="${e}">${e}</div>`}constructor(t,s){e(d)(this,m,{writable:!0,value:void 0}),e(d)(this,y,{writable:!0,value:void 0}),e(d)(this,w,{writable:!0,value:void 0}),e(b)(this,w,t),e(b)(this,y,1),e(b)(this,m,100),this.container=s,this.container.addEventListener("click",(t=>{const s=t.target.dataset.button,r=!t.target.classList.contains("unactive");if(s&&r)switch(s){case"left":e(o)(this,w).call(this,e(o)(this,y)-1);break;case"right":e(o)(this,w).call(this,e(o)(this,y)+1);break;case"back":e(o)(this,w).call(this,e(o)(this,y)-3);break;case"front":e(o)(this,w).call(this,e(o)(this,y)+3);break;default:e(o)(this,w).call(this,Number(s))}})),this.render()}}((e=>{}),$),M=document.querySelector(".gallery");let k;P();const x=async e=>{try{const t=await(0,n.getMovieBYGenre)(k,e),s=(0,a.createGalleryMarkup)(t.results);M.innerHTML=s,M.scrollIntoView(),_.currentPage=t.page,_.totalPages=t.total_pages<500?t.total_pages:500}catch(e){console.log(e)}};function P(e=1){M.addEventListener("click",(async t=>{t.preventDefault(),t.target.className.includes("genre-link")&&(t.stopImmediatePropagation(),k=t.target.dataset.id,_.callback=x,x(e))}))}a=i("alJz6");const j=document.querySelector(".gallery");async function L(e=1){try{const t=await(0,n.getTrending)(e),s=(0,a.createGalleryMarkup)(t.results);j.scrollIntoView(),j.innerHTML=s,_.currentPage=t.page,_.totalPages=t.total_pages,P()}catch(e){console.log(e)}}_.callback=L,L(),i("g4eqB");n=i("iqbjS"),a=i("alJz6");const q=new class{getRefs(e){const t={};return t.button=document.querySelector(e),t.icon=t.button.querySelector(".search-form__icon"),t.spinner=t.button.querySelector(".spinner"),t}disable(){this.refs.button.disabled=!1,this.refs.spinner.classList.add("is-hidden"),this.refs.icon.classList.remove("is-hidden")}enable(){this.refs.button.disabled=!0,this.refs.spinner.classList.remove("is-hidden"),this.refs.icon.classList.add("is-hidden")}constructor({selector:e}){this.refs=this.getRefs(e)}}({selector:'[data-action="loading"]'}),S=document.querySelector(".search-form"),E=document.querySelector(".search-result"),T=document.querySelector(".gallery");let O="";const G=e=>{C(O,e)},C=async(e,t)=>{q.enable();let s=await(0,n.getMoviesByKeyword)({keyword:e,page:t});if(s?.results?.length){const t=(0,a.createGalleryMarkup)(s.results);E.textContent="",T.innerHTML=t,T.scrollIntoView(),O=e,_.callback=G,_.currentPage=s.page,_.totalPages=s.total_pages}else E.textContent="Search result not successful. Enter the correct movie name and try again.",R();q.disable()};S.addEventListener("submit",(e=>{e.preventDefault();const t=e.target["search-film"].value.trim();t?C(t,1):(E.textContent="Movie name must not be empty. Please, enter movie name to search.",R())}));const R=()=>{setTimeout((()=>{E.textContent=""}),3e3)};i("jpPIC"),i("jhK3h"),i("hRans"),i("8Bm5W"),i("6rGxr"),i("860Hs");
//# sourceMappingURL=index.fd5a8157.js.map
