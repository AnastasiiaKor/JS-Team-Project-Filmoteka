var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},t={},n={},a=e.parcelRequired7c6;null==a&&((a=function(e){if(e in t)return t[e].exports;if(e in n){var a=n[e];delete n[e];var i={id:e,exports:{}};return t[e]=i,a.call(i.exports,i,i.exports),i.exports}var r=new Error("Cannot find module '"+e+"'");throw r.code="MODULE_NOT_FOUND",r}).register=function(e,t){n[e]=t},e.parcelRequired7c6=a),a("ksLB7"),a("iqbjS"),a("24Yli");var i=a("iqbjS");let r=localStorage.getItem("switcher-period")||"week";var l=a("bN4hg"),s=a("i9P75");c(1);const o=()=>{l.paginator.callback=c};async function c(e=1){try{const t=await(0,i.getTrending)(e,r);(0,s.makeGallery)(t.results),l.paginator.currentPage=t.page,l.paginator.totalPages=t.total_pages}catch(e){console.log(e)}}o();i=a("iqbjS"),l=a("bN4hg");var d=a("kUoQ5");s=a("i9P75");const u=new(0,d.LoadSpinner)({selector:'[data-action="loading"]'}),g=document.querySelector(".search-form"),_=document.querySelector(".search-result");let f="";const m=e=>{p(f,e)},p=async(e,t)=>{u.enable();let n=await(0,i.getMoviesByKeyword)({keyword:e,page:t});n?.results?.length?((0,s.makeGallery)(n.results),_.textContent="",f=e,l.paginator.callback=m,l.paginator.currentPage=n.page,l.paginator.totalPages=n.total_pages):(_.textContent="Search result not successful. Enter the correct movie name and try again.",h()),u.disable()};g.addEventListener("submit",(e=>{e.preventDefault();const t=e.target["search-film"].value.trim();t?p(t,1):(_.textContent="Movie name must not be empty. Please, enter movie name to search.",h())}));const h=()=>{setTimeout((()=>{_.textContent=""}),3e3)};a("jpPIC");var v=a("hs2FU");let y,b=document.querySelector(".filter__list");function w(e){e.target.classList.toggle("active"),b.classList.toggle("is-hidden");const t=JSON.parse(localStorage.getItem("genres")).map((({id:e,name:t})=>`<li class="filter__item"><button class="filter__option" type="button" data-id="${e}">${t}</button></li>`)).join("");b.innerHTML=t,b.addEventListener("click",S)}function S(e){if("BUTTON"===e.target.nodeName)try{!function(e){const t=document.querySelector(".filter__option.active");t&&t.classList.remove("active"),e.target.classList.add("active")}(e),(0,v.updateGenreId)(e.target.dataset.id),(0,v.searchByGenre)(1)}catch(e){}}a("jhK3h"),a("hRans"),a("6rGxr"),a("860Hs");document.querySelector(".gallery").insertAdjacentHTML("beforebegin",'\n<div class="gallery__settings">\n  <div class="gallery__settings-container">\n    <button class="filter__button" type="button">Select genre</button>\n  </div>\n  <ul class="filter__list is-hidden"></ul>\n</div>');!function(e){e.insertAdjacentHTML("beforeend",'<div class="switcher__container">\n    <span class="switcher__text">Trending of the</span>\n        <div class="switcher">\n          <div class="switcher__item">\n            <input\n              type="radio"\n              id="day"\n              value="day"\n              name="switcher"\n              class="switcher__item-radio"\n            />\n            <label for="day" class="switcher__item-label">\n              Day\n            </label>\n          </div>\n          <div class="switcher__item">\n            <input\n              type="radio"\n              id="week"\n              value="week"\n              name="switcher"\n              class="switcher__item-radio"\n            />\n            <label for="week" class="switcher__item-label">\n              Week\n            </label>\n          </div>\n        </div>\n    </div>');const t=document.querySelector(".switcher"),n=t.querySelectorAll(".switcher__item-radio");t.addEventListener("click",(function(e){const t=[...n].find((e=>!e.checked));t.checked=!0,r=t.value,localStorage.setItem("switcher-period",r),o(),c(1)})),[...n].find((e=>e.value===r)).checked=!0}(document.querySelector(".gallery__settings-container")),b=document.querySelector(".filter__list"),y=document.querySelector(".filter__button"),y.addEventListener("click",w);
//# sourceMappingURL=index.685db506.js.map
