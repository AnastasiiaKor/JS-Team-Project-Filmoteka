function e(e){return e&&e.__esModule?e.default:e}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},s={},i={},n=t.parcelRequired7c6;null==n&&((n=function(e){if(e in s)return s[e].exports;if(e in i){var t=i[e];delete i[e];var n={id:e,exports:{}};return s[e]=n,t.call(n.exports,n,n.exports),n.exports}var a=new Error("Cannot find module '"+e+"'");throw a.code="MODULE_NOT_FOUND",a}).register=function(e,t){i[e]=t},t.parcelRequired7c6=n),n.register("fExtF",(function(e,t){Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=function(e,t,s){if(!t.has(e))throw new TypeError("attempted to "+s+" private field on non-instance");return t.get(e)}})),n.register("iaRLo",(function(e,t){Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=function(e,t){return t.get?t.get.call(e):t.value}})),n.register("7K24o",(function(e,t){Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=function(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}})),n.register("3LGG3",(function(e,t){Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=function(e,t,s){if(t.set)t.set.call(e,s);else{if(!t.writable)throw new TypeError("attempted to set read only private field");t.value=s}}})),n("iqbjS"),n("lHlfB");var a=n("iqbjS"),r=(a=n("iqbjS"),n("alJz6")),o={};Object.defineProperty(o,"__esModule",{value:!0}),o.default=function(e,t){var s=l.default(e,t,"get");return c.default(e,s)};var l=u(n("fExtF")),c=u(n("iaRLo"));function u(e){return e&&e.__esModule?e:{default:e}}var d={};Object.defineProperty(d,"__esModule",{value:!0}),d.default=function(e,t,s){f.default(e,t),t.set(e,s)};var h,f=(h=n("7K24o"))&&h.__esModule?h:{default:h};var b={};Object.defineProperty(b,"__esModule",{value:!0}),b.default=function(e,t,s){var i=p.default(e,t,"set");return v.default(e,i,s),s};var p=g(n("fExtF")),v=g(n("3LGG3"));function g(e){return e&&e.__esModule?e:{default:e}}var w=new WeakMap,m=new WeakMap,y=new WeakMap;const _=document.querySelector(".pagination"),$=new class{set totalPages(t){e(b)(this,w,t),this.render()}set currentPage(t){e(b)(this,m,t),this.render()}set callback(t){e(b)(this,y,t)}render(){let t="";if(e(o)(this,w)<=9){const s=[];for(let t=1;t<=e(o)(this,w);t+=1){const i=t===e(o)(this,m)?this.active(e(o)(this,m)):this.number(t);s.push(i)}t=s.join("")}else if(e(o)(this,m)<6){const s=[];for(let t=1;t<=7;t+=1){const i=t===e(o)(this,m)?this.active(e(o)(this,m)):this.number(t);s.push(i)}t=`${this.arrow("left",e(o)(this,m)>1)} ${s.join("")} ${this.dots("front")} ${this.lastnumber(e(o)(this,w))} ${this.arrow("right",!0)}`}else if(e(o)(this,m)>e(o)(this,w)-6){const s=[];for(let t=e(o)(this,w)-6;t<=e(o)(this,w);t+=1){const i=t===e(o)(this,m)?this.active(e(o)(this,m)):this.number(t);s.push(i)}t=`${this.arrow("left",!0)} ${this.lastnumber(1)} ${this.dots("back")}  ${s.join("")} ${this.arrow("right",e(o)(this,m)<e(o)(this,w))}`}else{const s=`${this.number(e(o)(this,m)-2)} ${this.number(e(o)(this,m)-1)} ${this.active(e(o)(this,m))} ${this.number(e(o)(this,m)+1)} ${this.number(e(o)(this,m)+2)}`;t=`${this.arrow("left",!0)} ${this.lastnumber(1)} ${this.dots("back")} ${s} ${this.dots("front")} ${this.lastnumber(e(o)(this,w))} ${this.arrow("right",!0)}`}this.container.innerHTML=t}arrow(e,t){return`<div class="pagination-button arrow-${e} ${t?"":"unactive"}" data-button="${e}"></div>`}dots(e){return`<div class="pagination-numbers dots" data-button="${e}">...</div>`}number(e){return`<div class="pagination-numbers" data-button="${e}">${e}</div>`}lastnumber(e){return`<div class="pagination-numbers last" data-button="${e}">${e}</div>`}active(e){return`<div class="pagination-button current" data-button="${e}">${e}</div>`}constructor(t,s){e(d)(this,w,{writable:!0,value:void 0}),e(d)(this,m,{writable:!0,value:void 0}),e(d)(this,y,{writable:!0,value:void 0}),e(b)(this,y,t),e(b)(this,m,1),e(b)(this,w,100),this.container=s,this.container.addEventListener("click",(t=>{const s=t.target.dataset.button,i=!t.target.classList.contains("unactive");if(s&&i)switch(s){case"left":e(o)(this,y).call(this,e(o)(this,m)-1);break;case"right":e(o)(this,y).call(this,e(o)(this,m)+1);break;case"back":e(o)(this,y).call(this,e(o)(this,m)-3);break;case"front":e(o)(this,y).call(this,e(o)(this,m)+3);break;default:e(o)(this,y).call(this,Number(s))}})),this.render()}}((e=>{}),_);let k;x();const M=async e=>{try{const t=await(0,a.getMovieBYGenre)(k,e),s=(0,r.createGalleryMarkup)(t.results);r.gallery.innerHTML=s,r.gallery.scrollIntoView(),$.currentPage=t.page,$.totalPages=t.total_pages<500?t.total_pages:500}catch(e){console.log(e)}};function x(e=1){r.gallery.addEventListener("click",(async t=>{t.preventDefault(),t.target.className.includes("genre-link")&&(t.stopImmediatePropagation(),k=t.target.dataset.id,$.callback=M,M(e))}))}r=n("alJz6"),r=n("alJz6");let L=localStorage.getItem("switcher-period")||"week";function j(e){r.gallery.insertAdjacentHTML("afterbegin",'<div class="switcher__container">\n    <span class="switcher__text">Trending of the</span>\n        <div class="switcher">\n          <div class="switcher__item">\n            <input\n              type="radio"\n              id="day"\n              value="day"\n              name="switcher"\n              class="switcher__item-radio"\n            />\n            <label for="day" class="switcher__item-label">\n              Day\n            </label>\n          </div>\n          <div class="switcher__item">\n            <input\n              type="radio"\n              id="week"\n              value="week"\n              name="switcher"\n              class="switcher__item-radio"\n            />\n            <label for="week" class="switcher__item-label">\n              Week\n            </label>\n          </div>\n        </div>\n    </div>');const t=document.querySelector(".switcher"),s=t.querySelectorAll(".switcher__item-radio");t.addEventListener("click",(function(t){const i=[...s].find((e=>!e.checked));i.checked=!0,L=i.value,localStorage.setItem("switcher-period",L),e(1,L)})),[...s].find((e=>e.value===L)).checked=!0}async function P(e=1,t=L){try{const s=await(0,a.getTrending)(e,t),i=await(0,r.createGalleryMarkup)(s.results);r.gallery.innerHTML=i,$.currentPage=s.page,$.totalPages=s.total_pages,j(P),x()}catch(e){console.log(e)}}P(1,L),$.callback=P,n("g4eqB");a=n("iqbjS"),r=n("alJz6");const q=new class{getRefs(e){const t={};return t.button=document.querySelector(e),t.icon=t.button.querySelector(".search-form__icon"),t.spinner=t.button.querySelector(".spinner"),t}disable(){this.refs.button.disabled=!1,this.refs.spinner.classList.add("is-hidden"),this.refs.icon.classList.remove("is-hidden")}enable(){this.refs.button.disabled=!0,this.refs.spinner.classList.remove("is-hidden"),this.refs.icon.classList.add("is-hidden")}constructor({selector:e}){this.refs=this.getRefs(e)}}({selector:'[data-action="loading"]'}),S=document.querySelector(".search-form"),T=document.querySelector(".search-result");let E="";const O=e=>{G(E,e)},G=async(e,t)=>{q.enable();let s=await(0,a.getMoviesByKeyword)({keyword:e,page:t});if(s?.results?.length){const t=(0,r.createGalleryMarkup)(s.results);T.textContent="",r.gallery.innerHTML=t,r.gallery.scrollIntoView(),E=e,$.callback=O,$.currentPage=s.page,$.totalPages=s.total_pages}else T.textContent="Search result not successful. Enter the correct movie name and try again.",C();q.disable()};S.addEventListener("submit",(e=>{e.preventDefault();const t=e.target["search-film"].value.trim();t?G(t,1):(T.textContent="Movie name must not be empty. Please, enter movie name to search.",C())}));const C=()=>{setTimeout((()=>{T.textContent=""}),3e3)};n("jpPIC"),n("jhK3h"),n("hRans"),n("8Bm5W"),n("6rGxr"),n("860Hs");
//# sourceMappingURL=index.09315828.js.map
