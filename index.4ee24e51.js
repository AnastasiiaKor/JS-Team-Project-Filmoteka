var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},t={},n={},s=e.parcelRequired7c6;null==s&&((s=function(e){if(e in t)return t[e].exports;if(e in n){var s=n[e];delete n[e];var r={id:e,exports:{}};return t[e]=r,s.call(r.exports,r,r.exports),r.exports}var a=new Error("Cannot find module '"+e+"'");throw a.code="MODULE_NOT_FOUND",a}).register=function(e,t){n[e]=t},e.parcelRequired7c6=s),s("ksLB7"),s("iqbjS"),s("lHlfB");var r=s("iqbjS");const a=document.querySelector(".gallery");let i=localStorage.getItem("switcher-period")||"week";function o(e){a.insertAdjacentHTML("afterbegin",'<div class="switcher__container">\n    <span class="switcher__text">Trending of the</span>\n        <div class="switcher">\n          <div class="switcher__item">\n            <input\n              type="radio"\n              id="day"\n              value="day"\n              name="switcher"\n              class="switcher__item-radio"\n            />\n            <label for="day" class="switcher__item-label">\n              Day\n            </label>\n          </div>\n          <div class="switcher__item">\n            <input\n              type="radio"\n              id="week"\n              value="week"\n              name="switcher"\n              class="switcher__item-radio"\n            />\n            <label for="week" class="switcher__item-label">\n              Week\n            </label>\n          </div>\n        </div>\n    </div>');const t=document.querySelector(".switcher"),n=t.querySelectorAll(".switcher__item-radio");t.addEventListener("click",(function(t){const s=[...n].find((e=>!e.checked));s.checked=!0,i=s.value,localStorage.setItem("switcher-period",i),e(1,i)})),[...n].find((e=>e.value===i)).checked=!0}var c=s("bN4hg"),l=s("i9P75");async function d(e=1,t=i){try{const n=await(0,r.getTrending)(e,t);(0,l.makeGallery)(n.results),c.paginator.currentPage=n.page,c.paginator.totalPages=n.total_pages,o(d)}catch(e){console.log(e)}}d(1,i),c.paginator.callback=d;r=s("iqbjS"),c=s("bN4hg");l=s("i9P75");const u=new class{getRefs(e){const t={};return t.button=document.querySelector(e),t.icon=t.button.querySelector(".search-form__icon"),t.spinner=t.button.querySelector(".spinner"),t}disable(){this.refs.button.disabled=!1,this.refs.spinner.classList.add("is-hidden"),this.refs.icon.classList.remove("is-hidden")}enable(){this.refs.button.disabled=!0,this.refs.spinner.classList.remove("is-hidden"),this.refs.icon.classList.add("is-hidden")}constructor({selector:e}){this.refs=this.getRefs(e)}}({selector:'[data-action="loading"]'}),h=document.querySelector(".search-form"),f=document.querySelector(".search-result");let g="";const p=e=>{m(g,e)},m=async(e,t)=>{u.enable();let n=await(0,r.getMoviesByKeyword)({keyword:e,page:t});n?.results?.length?((0,l.makeGallery)(n.results),f.textContent="",g=e,c.paginator.callback=p,c.paginator.currentPage=n.page,c.paginator.totalPages=n.total_pages):(f.textContent="Search result not successful. Enter the correct movie name and try again.",b()),u.disable()};h.addEventListener("submit",(e=>{e.preventDefault();const t=e.target["search-film"].value.trim();t?m(t,1):(f.textContent="Movie name must not be empty. Please, enter movie name to search.",b())}));const b=()=>{setTimeout((()=>{f.textContent=""}),3e3)};s("jpPIC"),s("hs2FU"),s("jhK3h"),s("hRans"),s("fo3FY"),s("6rGxr"),s("860Hs");
//# sourceMappingURL=index.4ee24e51.js.map
