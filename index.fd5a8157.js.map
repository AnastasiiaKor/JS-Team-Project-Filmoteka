{"mappings":"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","sources":["node_modules/@swc/helpers/lib/_class_extract_field_descriptor.js","node_modules/@swc/helpers/lib/_class_apply_descriptor_get.js","node_modules/@swc/helpers/lib/_check_private_redeclaration.js","node_modules/@swc/helpers/lib/_class_apply_descriptor_set.js","src/index.js","src/main.js/trending.js","src/main.js/get-movies-by-genre.js","node_modules/@swc/helpers/lib/_class_private_field_get.js","node_modules/@swc/helpers/lib/_class_private_field_init.js","node_modules/@swc/helpers/lib/_class_private_field_set.js","src/main.js/paginator.js","src/main.js/search.js","src/main.js/loader.js"],"sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.default = _classExtractFieldDescriptor;\nfunction _classExtractFieldDescriptor(receiver, privateMap, action) {\n    if (!privateMap.has(receiver)) {\n        throw new TypeError(\"attempted to \" + action + \" private field on non-instance\");\n    }\n    return privateMap.get(receiver);\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.default = _classApplyDescriptorGet;\nfunction _classApplyDescriptorGet(receiver, descriptor) {\n    if (descriptor.get) {\n        return descriptor.get.call(receiver);\n    }\n    return descriptor.value;\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.default = _checkPrivateRedeclaration;\nfunction _checkPrivateRedeclaration(obj, privateCollection) {\n    if (privateCollection.has(obj)) {\n        throw new TypeError(\"Cannot initialize the same private elements twice on an object\");\n    }\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.default = _classApplyDescriptorSet;\nfunction _classApplyDescriptorSet(receiver, descriptor, value) {\n    if (descriptor.set) {\n        descriptor.set.call(receiver, value);\n    } else {\n        if (!descriptor.writable) {\n            // This should only throw in strict mode, but class bodies are\n            // always strict and private fields can only be used inside\n            // class bodies.\n            throw new TypeError(\"attempted to set read only private field\");\n        }\n        descriptor.value = value;\n    }\n}\n","import './main.js/requests';\nimport './main.js/saveGenres';\nimport './main.js/trending';\nimport './main.js/search';\nimport './main.js/modal';\n/* import './main.js/login'; */\nimport './main.js/user-manager';\nimport './main.js/theme-switcher';\nimport './main.js/local-storage';\nimport './main.js/footer-modal';\nimport './main.js/back-to-top';\n/* import './main.js/library-manager'; */\n\n\n","import { getTrending } from './requests';\nimport { addSearchByGenre } from './get-movies-by-genre';\nimport { createGalleryMarkup } from './templates.js/gallery-markup';\nimport { paginator } from './paginator';\n\nconst gallery = document.querySelector('.gallery');\n\npaginator.callback = showTrending;\nshowTrending();\n\nasync function showTrending(page = 1) {\n  try {\n    const data = await getTrending(page);\n    const markup = createGalleryMarkup(data.results);\n    gallery.scrollIntoView();\n    gallery.innerHTML = markup;\n    paginator.currentPage = data.page;\n    paginator.totalPages = data.total_pages;\n    addSearchByGenre();\n  } catch (error) {\n    console.log(error);\n  }\n}\n\nexport { showTrending };\n","import { getMovieBYGenre } from './requests';\nimport { showTrending } from './trending';\nimport { createGalleryMarkup } from './templates.js/gallery-markup';\nimport { paginator } from './paginator';\n\nconst gallery = document.querySelector('.gallery');\nlet genreID;\n\naddSearchByGenre();\n\n\nconst searchByGenre = async (page) => {\n  try {\n    const data = await getMovieBYGenre(genreID, page);\n    const markup = createGalleryMarkup(data.results);\n    gallery.innerHTML = markup;\n    gallery.scrollIntoView();\n    paginator.currentPage = data.page;\n    paginator.totalPages = data.total_pages < 500 ? data.total_pages : 500;\n  } catch (error) {\n    console.log(error);\n  }\n}\n\nfunction addSearchByGenre(page = 1) {\n  gallery.addEventListener('click', async e => {\n    e.preventDefault();\n    if (!e.target.className.includes('genre-link')) return;\n    e.stopImmediatePropagation();\n    genreID = e.target.dataset.id;\n    paginator.callback = searchByGenre;\n    searchByGenre(page)\n    \n  });\n}\n\nexport { addSearchByGenre };\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.default = _classPrivateFieldGet;\nvar _classExtractFieldDescriptor = _interopRequireDefault(require(\"./_class_extract_field_descriptor\"));\nvar _classApplyDescriptorGet = _interopRequireDefault(require(\"./_class_apply_descriptor_get\"));\nfunction _classPrivateFieldGet(receiver, privateMap) {\n    var descriptor = (0, _classExtractFieldDescriptor).default(receiver, privateMap, \"get\");\n    return (0, _classApplyDescriptorGet).default(receiver, descriptor);\n}\nfunction _interopRequireDefault(obj) {\n    return obj && obj.__esModule ? obj : {\n        default: obj\n    };\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.default = _classPrivateFieldInit;\nvar _checkPrivateRedeclaration = _interopRequireDefault(require(\"./_check_private_redeclaration\"));\nfunction _classPrivateFieldInit(obj, privateMap, value) {\n    (0, _checkPrivateRedeclaration).default(obj, privateMap);\n    privateMap.set(obj, value);\n}\nfunction _interopRequireDefault(obj) {\n    return obj && obj.__esModule ? obj : {\n        default: obj\n    };\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.default = _classPrivateFieldSet;\nvar _classExtractFieldDescriptor = _interopRequireDefault(require(\"./_class_extract_field_descriptor\"));\nvar _classApplyDescriptorSet = _interopRequireDefault(require(\"./_class_apply_descriptor_set\"));\nfunction _classPrivateFieldSet(receiver, privateMap, value) {\n    var descriptor = (0, _classExtractFieldDescriptor).default(receiver, privateMap, \"set\");\n    (0, _classApplyDescriptorSet).default(receiver, descriptor, value);\n    return value;\n}\nfunction _interopRequireDefault(obj) {\n    return obj && obj.__esModule ? obj : {\n        default: obj\n    };\n}\n","class Paginator {\n  #totalPages;\n  #currentPage;\n  #callback;\n\n  constructor(cb, container) {\n    this.#callback = cb;\n    this.#currentPage = 1;\n    this.#totalPages = 100;\n    this.container = container;\n    this.container.addEventListener('click', e => {\n      const response = e.target.dataset.button;\n      const isActive = !e.target.classList.contains('unactive');\n      if (response && isActive) {\n        switch (response) {\n          case 'left':\n            this.#callback(this.#currentPage - 1);\n            break;\n          case 'right':\n            this.#callback(this.#currentPage + 1);\n            break;\n          case 'back':\n            this.#callback(this.#currentPage - 3);\n            break;\n          case 'front':\n            this.#callback(this.#currentPage + 3);\n            break;\n          default:\n            this.#callback(Number(response));\n        }\n      }\n    });\n    this.render();\n  }\n  set totalPages(n) {\n    this.#totalPages = n;\n    this.render();\n  }\n\n  set currentPage(n) {\n    this.#currentPage = n;\n    this.render();\n  }\n\n  set callback(n) {\n    this.#callback = n;\n  }\n\n  render() {\n    let paginatorCode = '';\n    if(this.#totalPages <= 9) {\n      const list = [];\n        for (let i = 1; i <= this.#totalPages; i += 1) {\n          const addButton =\n            i === this.#currentPage\n              ? this.active(this.#currentPage)\n              : this.number(i);\n          list.push(addButton);\n        }\n        paginatorCode =  list.join('');\n    } else {\n\n\n      if (this.#currentPage < 6) {\n        //begin of region\n        const list = [];\n        for (let i = 1; i <= 7; i += 1) {\n          const addButton =\n            i === this.#currentPage\n              ? this.active(this.#currentPage)\n              : this.number(i);\n          list.push(addButton);\n        }\n        paginatorCode = `${this.arrow('left', this.#currentPage > 1)} ${list.join(\n          ''\n        )} ${this.dots('front')} ${this.lastnumber(this.#totalPages)} ${this.arrow(\n          'right',\n          true\n        )}`;\n      } else if (this.#currentPage > this.#totalPages - 6) {\n        // end of region\n        const list = [];\n        for (let i = this.#totalPages - 6; i <= this.#totalPages; i += 1) {\n          const addButton =\n            i === this.#currentPage\n              ? this.active(this.#currentPage)\n              : this.number(i);\n          list.push(addButton);\n        }\n        paginatorCode = `${this.arrow('left', true)} ${this.lastnumber(\n          1\n        )} ${this.dots('back')}  ${list.join('')} ${this.arrow(\n          'right',\n          this.#currentPage < this.#totalPages\n        )}`;\n      } else {\n        //middle of region\n        const list = `${this.number(this.#currentPage - 2)} ${this.number(\n          this.#currentPage - 1\n        )} ${this.active(this.#currentPage)} ${this.number(\n          this.#currentPage + 1\n        )} ${this.number(this.#currentPage + 2)}`;\n        paginatorCode = `${this.arrow('left', true)} ${this.lastnumber(\n          1\n        )} ${this.dots('back')} ${list} ${this.dots('front')} ${this.lastnumber(\n          this.#totalPages\n        )} ${this.arrow('right', true)}`;\n      }\n\n\n    }\n\n    \n\n    this.container.innerHTML = paginatorCode;\n  }\n\n  arrow(direction, active) {\n    return `<div class=\"pagination-button arrow-${direction} ${\n      active ? '' : 'unactive'\n    }\" data-button=\"${direction}\"></div>`;\n  }\n  dots(direction) {\n    return `<div class=\"pagination-numbers dots\" data-button=\"${direction}\">...</div>`;\n  }\n  number(n) {\n    return `<div class=\"pagination-numbers\" data-button=\"${n}\">${n}</div>`;\n  }\n\n  lastnumber(n) {\n    return `<div class=\"pagination-numbers last\" data-button=\"${n}\">${n}</div>`;\n  }\n\n  active(n) {\n    return `<div class=\"pagination-button current\" data-button=\"${n}\">${n}</div>`;\n  }\n}\n\nconst paginatorContainer = document.querySelector('.pagination');\nexport const paginator = new Paginator((page) => {\n\n\n}, paginatorContainer);","import { getMovie } from './get-movie';\nimport { getMoviesByKeyword } from './requests';\nimport { createGalleryMarkup } from './templates.js/gallery-markup';\nimport { paginator } from './paginator';\nimport { LoadSpinner } from './loader';\n\nconst loadSpinnerBtn = new LoadSpinner({ selector: '[data-action=\"loading\"]' });\nconst headerForm = document.querySelector('.search-form');\nconst searchResult = document.querySelector('.search-result');\nconst gallery = document.querySelector('.gallery');\nconst WARNING_CLEAR_DELAY = 3000;\nlet lastQuery = '';\nconst searchMore = n => {\n  getMovies(lastQuery, n);\n};\nconst getMovies = async (query, page) => {\n  loadSpinnerBtn.enable();\n  let searched = await getMoviesByKeyword({\n    keyword: query,\n    page,\n  });\n  if (searched?.results?.length) {\n    const markup = createGalleryMarkup(searched.results);\n    searchResult.textContent = '';\n    gallery.innerHTML = markup;\n    gallery.scrollIntoView();\n    lastQuery = query;\n    paginator.callback = searchMore;\n    paginator.currentPage = searched.page;\n    paginator.totalPages = searched.total_pages;\n  } else {\n    searchResult.textContent =\n      'Search result not successful. Enter the correct movie name and try again.';\n    clearInfo();\n  }\n  loadSpinnerBtn.disable();\n  \n};\n\n/* async function searchMovies(event) {\n  event.preventDefault();\n  try {\n    const value = event.target['search-film'].value;\n    let serched = {};\n    if (value) {\n      getMovies(value, 1);\n      serched = await getMoviesByKeyword({\n        keyword: value,\n        page: 1,\n      });\n    } else {\n      searchResult.textContent = 'Movie name must not be empty. Please, enter movie name to search.';\n      clearInfo();\n    }\n    if (serched?.results?.length) {\n      console.log(serched);\n      const markup = createGalleryMarkup(serched.results);\n      searchResult.innerHTML = '';\n      gallery.innerHTML = markup;\n    } else if (value) {\n      searchResult.innerHTML =\n        'Search result not successful. Enter the correct movie name and try again.';\n      clearInfo();\n    }\n  } catch (error) {\n    console.log(error);\n  }\n} */\n\nconst onSearch = event => {\n  event.preventDefault();\n  \n  const value = event.target['search-film'].value.trim();\n  if (value) {\n    getMovies(value, 1);\n  } else {\n    searchResult.textContent =\n      'Movie name must not be empty. Please, enter movie name to search.';\n    clearInfo();\n    //loadSpinnerBtn.enable();\n  }\n};\n\nheaderForm.addEventListener('submit', onSearch);\n\nconst clearInfo = () => {\n  setTimeout(() => {\n    searchResult.textContent = '';\n  }, WARNING_CLEAR_DELAY);\n};\n","class LoadSpinner {\n  constructor({ selector }) {\n    this.refs = this.getRefs(selector);\n  }\n\n  getRefs(selector) {\n    const refs = {};\n    refs.button = document.querySelector(selector);\n    refs.icon = refs.button.querySelector('.search-form__icon');\n    // refs.label = refs.button.querySelector('.label');\n    refs.spinner = refs.button.querySelector('.spinner');\n\n    return refs;\n  }\n\n  disable() {\n    this.refs.button.disabled = false;\n    // this.refs.label.textContent = 'Loading...';\n    this.refs.spinner.classList.add('is-hidden');\n    this.refs.icon.classList.remove('is-hidden');\n  }\n\n  enable() {\n    this.refs.button.disabled = true;\n    // this.refs.label.textContent = 'Loading...';\n    this.refs.spinner.classList.remove('is-hidden');\n    this.refs.icon.classList.add('is-hidden');\n  }\n}\n\nexport { LoadSpinner };\n"],"names":["Object","defineProperty","module","exports","value","default","receiver","privateMap","action","has","TypeError","get","descriptor","call","obj","privateCollection","set","writable","parcelRequire","$iqbjS","$e13576b86460cc50$exports","$e13576b86460cc50$var$_classExtractFieldDescriptor","$e13576b86460cc50$var$_classApplyDescriptorGet","$e13576b86460cc50$var$_interopRequireDefault","__esModule","$bb98491953509995$exports","$bb98491953509995$var$_checkPrivateRedeclaration","$c36c16f840444775$exports","$c36c16f840444775$var$_classExtractFieldDescriptor","$c36c16f840444775$var$_classApplyDescriptorSet","$c36c16f840444775$var$_interopRequireDefault","$895796b340e21ab9$var$_totalPages","WeakMap","$895796b340e21ab9$var$_currentPage","$895796b340e21ab9$var$_callback","$895796b340e21ab9$var$paginatorContainer","document","querySelector","$895796b340e21ab9$export$4f0e21758287c8b1","totalPages","n","this","render","currentPage","callback","paginatorCode","$parcel$interopDefault","list","i","addButton","active","number","push","join","arrow","dots","lastnumber","container","innerHTML","direction","constructor","cb","addEventListener","e","response","target","dataset","button","isActive","classList","contains","Number","page","$cb4720688a06d57f$var$gallery","$cb4720688a06d57f$var$genreID","$cb4720688a06d57f$export$7d04e14c37dd5da9","$cb4720688a06d57f$var$searchByGenre","async","data","getMovieBYGenre","markup","$alJz6","createGalleryMarkup","results","scrollIntoView","total_pages","error","console","log","preventDefault","className","includes","stopImmediatePropagation","id","$196a3cf194460c0a$var$gallery","$196a3cf194460c0a$export$a02e51d251069742","getTrending","$0f20921cc0af489c$var$loadSpinnerBtn","getRefs","selector","refs","icon","spinner","disable","disabled","add","remove","enable","$0f20921cc0af489c$var$headerForm","$0f20921cc0af489c$var$searchResult","$0f20921cc0af489c$var$gallery","$0f20921cc0af489c$var$lastQuery","$0f20921cc0af489c$var$searchMore","$0f20921cc0af489c$var$getMovies","query","searched","getMoviesByKeyword","keyword","length","textContent","$0f20921cc0af489c$var$clearInfo","event","trim","setTimeout"],"version":3,"file":"index.fd5a8157.js.map"}